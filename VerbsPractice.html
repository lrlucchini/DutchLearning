<!DOCTYPE html>
<html>
<head>
<title>Dutch Verb Practice</title>
<style>
body { font-family: sans-serif; }
.container { width: 80%; margin: 0 auto; }
#tense-select-container { margin-bottom: 20px; }
#question-container { margin-bottom: 20px; }
.options-container label { display: block; margin-bottom: 10px; }
#feedback-container { margin-top: 20px; font-weight: bold; }
#difficulty-container { margin-bottom: 10px; }
</style>
</head>
<body>
<div class="container">
  <h1>Dutch Verb Practice</h1>
  <div id="difficulty-container">
    Difficulty Level: <span id="current-difficulty">1</span><br>
    Progress: <span id="level-progress">0</span> / <span id="level-threshold">5</span>
  </div>
  <div id="tense-select-container">
    <label for="tense-select">Choose a tense:</label>
    <select id="tense-select">
      <option value="present">Present Simple</option>
      <option value="past">Past Simple</option>
      <option value="future">Future Simple</option>
    </select>
  </div>
  <div id="question-container">
    <p><strong>English Meaning:</strong> <span id="english-meaning"></span></p>
    <div class="options-container" id="options-container">
      </div>
  </div>
  <div id="feedback-container">
    <p id="feedback"></p>
    <p>Overall Score: <span id="overall-score">0</span></p>
  </div>
</div>

<script>
const verbData = [
  { english: "to be", present: ["ben", "bent", "is", "zijn", "zijn", "zijn"], past: ["was", "was", "was", "waren", "waren", "waren"], future: ["zal zijn", "zult zijn", "zal zijn", "zullen zijn", "zullen zijn", "zullen zijn"], difficulty: 1 },
  { english: "to have", present: ["heb", "hebt", "heeft", "hebben", "hebben", "hebben"], past: ["had", "had", "had", "hadden", "hadden", "hadden"], future: ["zal hebben", "zult hebben", "zal hebben", "zullen hebben", "zullen hebben", "zullen hebben"], difficulty: 1 },
  { english: "to go", present: ["ga", "gaat", "gaat", "gaan", "gaan", "gaan"], past: ["ging", "ging", "ging", "gingen", "gingen", "gingen"], future: ["zal gaan", "zult gaan", "zal gaan", "zullen gaan", "zullen gaan", "zullen gaan"], difficulty: 1 },
  { english: "to come", present: ["kom", "komt", "komt", "komen", "komen", "komen"], past: ["kwam", "kwam", "kwam", "kwamen", "kwamen", "kwamen"], future: ["zal komen", "zult komen", "zal komen", "zullen komen", "zullen komen", "zullen komen"], difficulty: 1 },
  { english: "to want", present: ["wil", "wilt", "wil", "willen", "willen", "willen"], past: ["wilde", "wilde", "wilde", "wilden", "wilden", "wilden"], future: ["zal willen", "zult willen", "zal willen", "zullen willen", "zullen willen", "zullen willen"], difficulty: 1 },
  { english: "to say", present: ["zeg", "zegt", "zegt", "zeggen", "zeggen", "zeggen"], past: ["zei", "zei", "zei", "zeiden", "zeiden", "zeiden"], future: ["zal zeggen", "zult zeggen", "zal zeggen", "zullen zeggen", "zullen zeggen", "zullen zeggen"], difficulty: 1 },
  { english: "to make", present: ["maak", "maakt", "maakt", "maken", "maken", "maken"], past: ["maakte", "maakte", "maakte", "maakten", "maakten", "maakten"], future: ["zal maken", "zult maken", "zal maken", "zullen maken", "zullen maken", "zullen maken"], difficulty: 1 },
  { english: "to do", present: ["doe", "doet", "doet", "doen", "doen", "doen"], past: ["deed", "deed", "deed", "deden", "deden", "deden"], future: ["zal doen", "zult doen", "zal doen", "zullen doen", "zullen doen", "zullen doen"], difficulty: 1 },
  { english: "to see", present: ["zie", "ziet", "ziet", "zien", "zien", "zien"], past: ["zag", "zag", "zag", "zagen", "zagen", "zagen"], future: ["zal zien", "zult zien", "zal zien", "zullen zien", "zullen zien", "zullen zien"], difficulty: 1 },
  { english: "to know", present: ["weet", "weet", "weet", "weten", "weten", "weten"], past: ["wist", "wist", "wist", "wisten", "wisten", "wisten"], future: ["zal weten", "zult weten", "zal weten", "zullen weten", "zullen weten", "zullen weten"], difficulty: 1 },
  // Add more verbs here with their conjugations and difficulty levels (1-5)
  // Example for a harder verb:
  // { english: "to disappoint", present: ["stel teleur", "stelt teleur", "stelt teleur", "stellen teleur", "stellen teleur", "stellen teleur"], past: ["stelde teleur", "stelde teleur", "stelde teleur", "stelden teleur", "stelden teleur", "stelden teleur"], future: ["zal teleurstellen", "zult teleurstellen", "zal teleurstellen", "zullen teleurstellen", "zullen teleurstellen", "zullen teleurstellen"], difficulty: 3 },
];

let currentVerb;
let currentTense;
let overallScore = 0;
let currentDifficulty = 1;
let correctInLevel = 0;
const levelThreshold = 5;

function loadQuestion() {
  const filteredVerbs = verbData.filter(verb => verb.difficulty === currentDifficulty);
  if (filteredVerbs.length === 0) {
    currentDifficulty++;
    document.getElementById("current-difficulty").textContent = currentDifficulty;
    correctInLevel = 0;
    document.getElementById("level-progress").textContent = correctInLevel;
    if (currentDifficulty > 5) {
      document.getElementById("question-container").innerHTML = "<h2>Congratulations! You have completed all difficulty levels.</h2>";
      return;
    }
    loadQuestion();
    return;
  }

  currentVerb = filteredVerbs[Math.floor(Math.random() * filteredVerbs.length)];
  currentTense = document.getElementById("tense-select").value;
  document.getElementById("english-meaning").textContent = currentVerb.english;
  const correctIndex = Math.floor(Math.random() * 6);
  const options = [];
  const correctOption = currentVerb[currentTense][correctIndex];
  options.push(correctOption);
  while (options.length < 5) {
    const randomIndex = Math.floor(Math.random() * filteredVerbs.length);
    const randomVerb = filteredVerbs[randomIndex];
    const randomTenseIndex = Math.floor(Math.random() * 6);
    const randomOption = randomVerb[currentTense][randomTenseIndex];
    if (!options.includes(randomOption)) {
      options.push(randomOption);
    }
  }
  shuffleArray(options);
  const optionsContainer = document.getElementById("options-container");
  optionsContainer.innerHTML = "";
  options.forEach((option, index) => {
    const label = document.createElement("label");
    const radio = document.createElement("input");
    radio.type = "radio";
    radio.name = "verb-option";
    radio.value = option;
    radio.addEventListener("change", checkAnswer);
    label.appendChild(radio);
    label.appendChild(document.createTextNode(option));
    optionsContainer.appendChild(label);
  });
  document.getElementById("feedback").textContent = "";
}

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

function checkAnswer() {
  const selectedOption = document.querySelector('input[name="verb-option"]:checked');
  if (selectedOption) {
    const userAnswer = selectedOption.value;
    let isCorrect = false;
    for(const option of currentVerb[currentTense]) {
        if(userAnswer === option) {
            isCorrect = true;
            break;
        }
    }

    if (isCorrect) {
      document.getElementById("feedback").textContent = "Correct!";
      overallScore++;
      correctInLevel++;
      document.getElementById("overall-score").textContent = overallScore;
      document.getElementById("level-progress").textContent = correctInLevel;
      if (correctInLevel >= levelThreshold) {
        currentDifficulty++;
        document.getElementById("current-difficulty").textContent = currentDifficulty;
        correctInLevel = 0;
        document.getElementById("level-progress").textContent = correctInLevel;
        document.getElementById("level-threshold").textContent = levelThreshold;
        if (currentDifficulty > 5) {
          document.getElementById("question-container").innerHTML = "<h2>Congratulations! You have completed all difficulty levels.</h2>";
          return;
        }
        document.getElementById("feedback").textContent += " Moving to the next difficulty level!";
      }
    } else {
      document.getElementById("feedback").textContent = `Incorrect. The correct answer could be: ${currentVerb[currentTense].join(", ")}`;
    }
    // Automatically load the next question
    setTimeout(loadQuestion, 500); // Small delay for feedback
  }
}

document.getElementById("tense-select").addEventListener("change", () => {
  correctInLevel = 0;
  document.getElementById("level-progress").textContent = correctInLevel;
  loadQuestion();
});

document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("level-threshold").textContent = levelThreshold;
  loadQuestion();
});
</script>

</body>
</html>
